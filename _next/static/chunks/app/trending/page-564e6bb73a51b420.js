(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6976],{33390:function(e,t,r){Promise.resolve().then(r.bind(r,67997))},67997:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(57437),a=r(2265),s=r(95452),i=r(87011),c=r(18618),l=r(71924),o=r(29812),d=r(27648),u=r(99376);function h(e){let{active:t,totalPages:r}=e;return(0,u.useRouter)(),(0,n.jsxs)("div",{className:"flex items-center gap-4 overflow-x-auto",children:[t>1?(0,n.jsx)(d.default,{href:"?page=".concat(t-1),passHref:!0,prefetch:!1,rel:"prev",children:(0,n.jsxs)(c.Button,{variant:"text",className:"flex items-center gap-2 text-yellow-300",children:[(0,n.jsx)(l.Z,{strokeWidth:2,className:"h-4 w-4"})," Previous"]})}):(0,n.jsxs)(c.Button,{variant:"text",className:"flex items-center gap-2 text-yellow-300 opacity-50 cursor-not-allowed",disabled:!0,children:[(0,n.jsx)(l.Z,{strokeWidth:2,className:"h-4 w-4"})," Previous"]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(()=>{let e=[],a=Math.floor(2.5),s=Math.max(1,t-a),i=Math.min(r,t+a);t<=a?i=Math.min(r,5):t+a>=r&&(s=Math.max(1,r-5+1)),s>1&&(e.push((0,n.jsx)(d.default,{href:"?page=1",passHref:!0,prefetch:!1,children:(0,n.jsx)(c.IconButton,{variant:"text",color:"white",children:"1"})},1)),s>2&&e.push((0,n.jsx)("span",{children:"..."},"start-ellipsis")));for(let r=s;r<=i;r++)e.push((0,n.jsx)(d.default,{href:"?page=".concat(r),passHref:!0,prefetch:!1,children:(0,n.jsx)(c.IconButton,{variant:t===r?"filled":"text",color:"white",className:t===r?"pointer-events-none":"",children:r})},r));return i<r&&(i<r-1&&e.push((0,n.jsx)("span",{children:"..."},"end-ellipsis")),e.push((0,n.jsx)(d.default,{href:"?page=".concat(r),passHref:!0,prefetch:!1,children:(0,n.jsx)(c.IconButton,{variant:"text",color:"white",children:r})},r))),e})()}),t<r?(0,n.jsx)(d.default,{href:"?page=".concat(t+1),passHref:!0,prefetch:!1,rel:"next",children:(0,n.jsxs)(c.Button,{variant:"text",className:"flex items-center gap-2 text-yellow-300",children:["Next",(0,n.jsx)(o.Z,{strokeWidth:2,className:"h-4 w-4"})]})}):(0,n.jsxs)(c.Button,{variant:"text",className:"flex items-center gap-2 text-yellow-300 opacity-50 cursor-not-allowed",disabled:!0,children:["Next",(0,n.jsx)(o.Z,{strokeWidth:2,className:"h-4 w-4"})]})]})}var m=()=>{let[e,t]=(0,a.useState)([]),r=(0,s.createClientComponentClient)(),c=(0,u.useSearchParams)().get("page")||"1",l=parseInt(c,10),[o,d]=(0,a.useState)(1),[m,f]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e="https://".concat(i.Z.domainName,"/trending?page=").concat(l),n=document.querySelector("link[rel='canonical']");n?n.setAttribute("href",e):((n=document.createElement("link")).setAttribute("rel","canonical"),n.setAttribute("href",e),document.head&&document.head.appendChild(n)),(async()=>{let{data:e,count:n,error:a}=await r.from("user_music_recommend").select("*",{count:"exact"}).range((l-1)*200,200*l-1).order("created_at",{ascending:!1}).limit(200);a?console.error("Error fetching recommendations:",a):(t(e),d(Math.ceil(n/200))),f(!1)})()},[c]),(0,n.jsxs)("div",{className:"mt-4 mb-16 p-5 justify-center items-center",children:[(0,n.jsx)("div",{className:"flex justify-between items-center mb-5",children:(0,n.jsx)("h1",{className:"text-4xl font-bold text-center w-full",children:"AI Music Global Trending"})}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:e.map((e,t)=>(0,n.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition duration-300",children:(0,n.jsx)("a",{href:"https://".concat(i.Z.domainName,"/work/").concat(e.music_id,"-").concat(e.music_uid),className:"text-white hover:text-yellow-300 transition duration-300",children:e.content.title})},t))}),m?(0,n.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen flex justify-center items-center bg-black bg-opacity-50 z-50",children:(0,n.jsx)("div",{className:"loading loading-spinner rounded-full border-8 border-t-8 border-gray-200 h-12 w-12"})}):null,(0,n.jsx)("div",{className:"flex items-center justify-center mx-auto mt-16",children:(0,n.jsx)(h,{active:l,totalPages:o})})]})}},27648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(72972),a=r.n(n)},99376:function(e,t,r){"use strict";var n=r(35475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},71924:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});t.Z=a},29812:function(e,t,r){"use strict";var n=r(2265);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))});t.Z=a}},function(e){e.O(0,[6384,2972,5452,4324,7011,2971,5030,1744],function(){return e(e.s=33390)}),_N_E=e.O()}]);